# Playwright Monitor example environment variables
# Copy to .env and fill values (do NOT commit secrets to git)

# Figma server-side config (add your personal access token here)
# FIGMA_API_KEY is a Personal Access Token (PAT) - keep it secret
FIGMA_API_KEY=
FIGMA_FILE_KEY=

# Base URL the monitor will hit (default: http://localhost:3003)
MONITOR_BASE_URL=http://localhost:3003

# Monitoring cadence in milliseconds (default: 300000 = 5m)
MONITOR_INTERVAL_MS=300000

# If set to 'false' monitor will not attempt to start `npm run dev`
MONITOR_START_DEV=true

# Optional: comma-separated routes to check (overrides discovery)
#MONITOR_ROUTES=/,/about,/blog/test-post

# Slack configuration (preferred for rich uploads)
# - MONITOR_SLACK_TOKEN: Bot token with `files:write` and `chat:write` scopes (starts with xoxb-)
# - MONITOR_SLACK_CHANNEL: channel ID or channel name (e.g., #monitor)
MONITOR_SLACK_TOKEN=
MONITOR_SLACK_CHANNEL=

# Slack webhook fallback (if you don't want to use token uploads)
MONITOR_SLACK_WEBHOOK=

# Email (SMTP) configuration for alerts/digests
MONITOR_SMTP_HOST=
MONITOR_SMTP_PORT=587
MONITOR_SMTP_USER=
MONITOR_SMTP_PASS=
MONITOR_ALERT_EMAIL_FROM=monitor@example.com
MONITOR_ALERT_EMAIL_TO=you@example.com

# Controls & behavior
# Send immediate email instead of adding to digest
MONITOR_EMAIL_IMMEDIATE=false

# Digest send interval in milliseconds (default: 3600000 = 1h)
MONITOR_DIGEST_INTERVAL_MS=3600000

# Minimum ms between alerts for same route (default: 600000 = 10m)
MONITOR_ALERT_COOLDOWN_MS=600000

# Disable outgoing alerts (useful for testing)
MONITOR_DISABLE_ALERTS=false

# For tests: flush digest after each check (useful in CI)
MONITOR_FLUSH_DIGEST_AFTER_CHECK=false

# Shortcuts for testing locally
# Use a short interval for faster feedback (example: 2000 ms)
# MONITOR_INTERVAL_MS=2000

# Notes:
# - Keep secrets (Slack tokens, SMTP creds) out of your repo. Use a secret manager or CI-provided secrets for CI environments.
# - To run the monitor in background with PM2: `npm run monitor:pages:pm2` (see ecosystem.config.js)
# - Screenshots are stored in ./playwright-monitor-screenshots and logs in ./playwright-monitor.log
